<!DOCTYPE html>
<html>
<head>
  <title>SVG.js</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/svg.js/2.6.6/svg.min.js"></script>
  <script src="svg.draggable.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/utils/Draggable.min.js"></script>
  <script src ="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/plugins/CSSPlugin.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenLite.min.js"></script>
<!--  <script src="cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  
  
  
  <script src="s3-us-west-2.amazonaws.com/s.cdpn.io/16327/ThrowPropsPlugin.min.js"></script>

  
  
-->


</head>
<body>
  
    <div id="drawing"></div>


<script>
    var xdim = 1200;
    var ydim = 1200;
    
    var draw = SVG('drawing').size(xdim, ydim)
    var rect1 = draw.rect(50, 50).attr({ fill: '#f06' })
    //var rect2 = draw.rect(10, 10).attr({ fill: '#f06' })


  draw.viewbox(0,0,600,600)

    var ajax = new XMLHttpRequest()
        ajax.open('GET', 'MC.svg', true)
        ajax.send()
        ajax.onload = function(e) {
            var test = draw.svg(ajax.responseText)

           // var element = SVG.get('svg_7')
            //console.log(element)

            //element.fill('#f06')

            var sourceelements = SVG.select('.source').fill('#ccc')
            console.log(sourceelements)


/*
            sourceelements.draggable({
            minX: 10
            , minY: 10
            , maxX: xdim-100
            , maxY: ydim-100
            , snapDistance: 20 
            })
*/
           /*
            var targetelements = SVG.select('.target');
           targetelements.members[0].click(function(e){
                this.stroke('#f00')
            })
           */
            
           var el = SVG.get("svg_7");
           console.log(el)
           el.stroke('#f00')
           el.attr('x',5)
           //el.draggable()


           var t1 = SVG.select('.target1')
//console.log(t1.members[0].x())

var t = Math.round(t1.members[0].x()) + " " + Math.round(t1.members[0].y())
//t = "23 35"
//console.log(t)
           Draggable.create(".source", {
                

                onDrag: function() {
              if (this.hitTest(".target1")) {
                  
                 //  TweenLite.to(this.target, 0.6, {opacity:0, scale:0, svgOrigin:t});
                  //t1.stroke('#f00')
    }else{ 
      //t1.stroke('#000')
      }
  }


           });

            var selectelements = SVG.select('.target2');
            selectelements.click(function(e){
                console.log(this._stroke)
                if (this._stroke=='#f00') {
                    console.log('red')
                    this.stroke('#000')
                    this.attr('stroke-width',0);
                }else {
                this.stroke('#f00')
                this.attr('stroke-width',5);
                }
            })
            var selectelements = SVG.select('.target1');
            selectelements.click(function(e){
                console.log(this._stroke)
                if (this._stroke=='#f00') {
                    console.log('red')
                    this.stroke('#000')
                    this.attr('stroke-width',0);
                }else {
                this.stroke('#f00')
                this.attr('stroke-width',5);
                }
            })
            var selectelements = SVG.select('.target3');
            selectelements.click(function(e){
                console.log(this._stroke)
                if (this._stroke=='#f00') {
                    console.log('red')
                    this.stroke('#000')
                    this.attr('stroke-width',0);
                }else {
                this.stroke('#f00')
                this.attr('stroke-width',5);
                }
            })


            //var b = elements.members[0].rbox();
            //draw.rect(b.width, b.height).addClass('box').move(b.x, b.y)


/*
            targetelements.click(function(e){
                e.fill('#f00')
            })

*/

            }

            

    //var elements = SVG.select('rect.my-class')
    
            

    //var rect3 = draw.rect(10, 10).attr({ fill: '#f06' })
    //var rect4 = draw.rect(10, 10).attr({ fill: '#f06' })
   //rect1.draggable({snapToGrid:100})
  // rect1.draggable({
  //minX: 10
//, minY: 15
//, maxX: 200
//, maxY: 100
//, snapToGrid: 20 
//})
  // rect1.draggable({snapToGrid:20})

/*
var gridSize = 20;
rect1.draggable(function(x, y){
    return {
       x: x - x % gridSize,
      y: y - y % gridSize
 };
});

*/

   //rect3.draggable()
   //rect4.draggable()
    
</script>

<style>
svgcontainer {
  display:block;
  position:relative;
  background:#1d1d1d;
  
  margin:20px auto;
}


</style>
</body>



</html>